<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.12/angular-material.min.css">
    <link rel="stylesheet" type="text/css" href="../style/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.9/angular.min.js"></script>
    <script type="text/javascript" src="../javascript/rental.js" charset="utf-8"></script>
</head>

<body class="body">

<header>
	<div class="header">
		<a class="active" href="HomeAdmin.html"><img src="../logo.png" class="logo"></a>
		<h1 class="headerText">Andrew's Dream LLC.</h1>
	</div>
</header>

	<div id="navbar" class="sticky">
	    <a href="HomeAdmin.html"> HOME</a>
        <a href="RentalAdmin.html">TURNKEY RENTAL</a>
        <a class="active" href="AddRentalAdmin.html">ADD NEW PROPERTY</a>
	</div>

<div>
    <h3 style="text-align:center;font-size:40px;" class="text">Add New Rental Property</h3>
    <form>
    <table align="center" width="97%" >
      <col width="15%">
      <col width="30%">
      <col width="2%">
      <col width="15%">
      <col width="30%">
      <tr>
        <th colspan="3" style="padding-bottom: 10px;">General Information</th>
        <th colspan="2" style="padding-bottom: 10px;">Property Amenities</th>
      </tr>
      <tr>
        <td colspan="5"><hr class="line" style="width: 97%"/></td>
       </tr>
      <tr>
        <td class="text" style="padding-top: 20px;">
            Property Title
        </td>
        <td style="padding-top: 20px;"><input type="text" id="propertyTitle" class="input" tabindex="1" required="required">
        </td>

        <td style="padding-top: 20px;"></td>
        <td class="text" style="padding-top: 20px;">
            Total Square Feet
        </td>
        <td style="padding-top: 20px;"><input type="text" id="propertySqrFt" class="input" tabindex="10" required="required" onkeypress="return isNumberWithDecimal(event)">
        </td>
      </tr>
      <tr>
        <td class="text">
            Property Type
        </td>
        <td><input type="text" list="type" name="type" id="propertyType" class="input" tabindex="2" required="required">
                <datalist id="type">
                    <option value="Apartment">
                    <option value="Condo">
                    <option value="House">
                    <option value="Ranch">
                </datalist>
        </td>
        <td></td>
        <td class="text">
            Total Bed
        </td>
        <td>
            <input type="text" list="bed" id="propertyBed" class="input" tabindex="11" required="required" onkeypress="return isNumberKey(event)">
                <datalist id="bed">
                    <option value="1">
                    <option value="2">
                    <option value="3">
                    <option value="4">
                    <option value="5">
                </datalist>
        </td>
       </tr>
       <tr>
        <td class="text">
            Street Address 1
        </td>
        <td><input type="text" id="propertyAddress1" class="input" tabindex="3" required="required">
        </td>
        <td></td>
        <td class="text">
            Total Bath
        </td>
        <td>
            <input type="text" list="bath" id="propertyBath" class="input" tabindex="12" required="required" onkeypress="return isNumberWithDecimal(event)">
                <datalist id="bath">
                    <option value="1">
                    <option value="1.5">
                    <option value="2">
                    <option value="2.5">
                    <option value="3">
                </datalist>
        </td>
       </tr>
       <tr>
        <td class="text">
            Street Address 2
        </td>
        <td>
            <input type="text" id="propertyAddress2" class="input" tabindex="4">
        </td>
        <td></td>
        <td class="text">
            Parking
        </td>
        <td>
            <input type="text" list="parking" id="propertyParking" class="input" tabindex="13" required="required">
                <datalist id="parking">
                    <option value="Open">
                    <option value="Street">
                    <option value="Garage">
                    <option value="Carport">
                </datalist>
        </td>
       </tr>
       <tr>
        <td class="text">
            City
        </td>
        <td><input type="text" id="propertyCity" class="input" tabindex="5" required="required">
        </td>
        <td></td>
        <td class="text">
            Pet Friendly?
        </td>
        <td>
            <input type="radio" id="propertyPetYes" name="propertyPet" value="yes" tabindex="14" checked="checked">
            <label for="yes" class="text">YES</label>
            <input type="radio" id="propertyPetNo" name="propertyPet" value="no" tabindex="15">
            <label for="no" class="text">No</label>
        </td>
       </tr>
       <tr>
        <td class="text">
            State
        </td>
        <td><input type="text" id="propertyState" class="input" tabindex="6" required="required">
        </td>
        <td></td>
        <td class="text">
            Electricity
        </td>
        <td>
            <input type="radio" id="propertyElectricityYes" name="propertyElectricity" value="yes" tabindex="16" checked="checked">
            <label for="yes" class="text">YES</label>
            <input type="radio" id="propertyElectricityNo" name="propertyElectricity" value="no" tabindex="17">
            <label for="no" class="text">No</label>
        </td>
       </tr>
       <tr>
        <td class="text">
            Country
        </td>
        <td><input type="text" id="propertyCountry" class="input" value="USA" tabindex="7" required="required">
        </td>
        <td></td>
        <td class="text">
            Water, Sewage, Trash
        </td>
        <td>
            <input type="radio" id="propertyWSTYes" name="propertyWST" value="yes" tabindex="18" checked="checked">
            <label for="yes" class="text">YES</label>
            <input type="radio" id="propertyWSTNo" name="propertyWST" value="no" tabindex="19">
            <label for="no" class="text">No</label>
        </td>
       </tr>
       <tr>
        <td class="text">
            Zip
        </td>
        <td><input type="text" id="propertyZip" class="input" tabindex="8" required="required" maxlength="5" onkeypress="return isNumberKey(event)">
        </td>
        <td></td>
        <td class="text">
            Lease Period
        </td>
        <td><input type="text" id="propertyMinLease" class="input" style="width:44%;" tabindex="20" placeholder="Min">
        <input type="text" id="propertyMaxLease" class="input" style="width:44%;" tabindex="21" placeholder="Max">
        </td>
       </tr>
       <tr>
        <td class="text" valign="top">
            Price (/Month) $
        </td>
        <td valign="top"><input type="text" id="propertyPrice" class="input" tabindex="9" required="required" onkeypress="return isNumberWithDecimal(event)">
        </td>
        <td></td>
        <td class="text" valign="top" >
            Note:
        </td>
        <td><textarea rows="5" class="input" style="resize: none;overflow-y: auto;" tabindex="22" id="propertyNote"></textarea>
        </td>
       </tr>
       <tr>
        <td colspan="5" align="center">
            <input type="file" name="files[]" id="files" accept="image/*" class = "inputfile" multiple="multiple"/>
            <label for="files">Choose Images</label>
        </td>
       </tr>
       <tr>
            <td colspan="5" align="center">
                <p id="count" class="title" style="font-size:20px;"></p><br/>
                <output id="list"></output><br/>
                <output id="deletelist"></output>
            </td>
       </tr>
       <tr>
        <td colspan="5" align="center">
            <button type="reset" id="clear" class="button" style="width: 120px;" tabindex="25">Clear</button>
            <button type="button" id="setProperty" class="button" style="width: 120px;" tabindex="24" onclick="addProperty()">Add</button>
            <button type="button" id="addMore" class="button" style="width: 120px;" tabindex="23" onclick="oneMore(this)">Add More</button>
        </td>
       </tr>
     </table>
     </form>
     <br/>
</div>

<div class="container">
	  <div id="myCarousel" class="carousel slide" data-ride="carousel">
		<div class="carousel-inner" id="myCarouselData">
		  <div class="item active">
		  </div>
		</div>
	  </div>
	</div>

</body>

<script>
    var files = [];
    var span1;
    var span2;
  function handleFileSelect(evt) {
    files = evt.target.files; // FileList object

    // Loop through the FileList and render image files as thumbnails.
    for (var i = 0, f; f = files[i]; i++) {

      // Only process image files.
      if (!f.type.match('image.*')) {
        continue;
      }
      var reader = new FileReader();
      var count = 0;
      // Closure to capture the file information.
      reader.onload = (function(theFile) {
        return function(e) {
           count = count+1;
          // Render thumbnail.
          span1 = document.createElement('span');
          span1.innerHTML = ['<img id="',count,'" class="thumb" src="', e.target.result,
                            '" title="', escape(theFile.name), '"/>'].join('');
          span2 = document.createElement('span');
          span2.innerHTML = ['<button type="button" id="',count,'" class="button" style="width: 70px;margin:5px;padding:0px;" onclick="onDelete(',count,')">X</button>'].join('');
          document.getElementById('list').insertBefore(span1, null);
          document.getElementById('deletelist').insertBefore(span2, null);
        };
      })(f);

      // Read in the image file as a data URL.
      reader.readAsDataURL(f);
    }
    document.getElementById('count').innerHTML = files.length.toString() + " Images Selected";
  }
  document.getElementById('files').addEventListener('change', handleFileSelect, false);

  function onDelete(j){
    //console.log(files); 
    /*for (var i = 0; i < files.length; i++){
        console.log(i);
        if(i = j)
            console.log(j);
    }*/
    //files.splice(0,1);
    console.log(j);
  }
</script>

	 <!--<script>
		 var houseInfo = { "images":[]};
		 $(document).ready(function(){
			$('input[type="file"]').change(function(e){
				  houseInfo.images = [];
				  if (this.files && this.files[0]) {
					for(var i =0; i < this.files.length; i++ ){
						var reader = new FileReader();
						reader.onload = function (e) {
						    $('<div class="item"><img style="width:100%; height:350px;" src="'+e.target.result+'"><div class="carousel-caption"></div>   </div>').appendTo('.carousel-inner');

							houseInfo.images.push(e.target.result);
						}

						reader.readAsDataURL(this.files[i]);
					}

					$('.item').first().addClass('active');
				}
			});
		});



		function AddHouse(){
			houseInfo.propertyTitle = document.getElementById("propertyTitle").value;
			houseInfo.propertyType = document.getElementById("propertyType").value;
			houseInfo.propertyAddress1 = document.getElementById("propertyAddress1").value;
			houseInfo.propertyAddress2 = document.getElementById("propertyAddress2").value;
			houseInfo.propertySqrFt = document.getElementById("propertySqrFt").value;
			houseInfo.propertyBed = document.getElementById("propertyBed").value;
			houseInfo.propertyBath = document.getElementById("propertyBath").value;
			houseInfo.propertyParking = document.getElementById("propertyParking").value;
			houseInfo.propertyCity = document.getElementById("propertyCity").value;
			houseInfo.propertyState = document.getElementById("propertyState").value;
			houseInfo.propertyCountry = document.getElementById("propertyCountry").value;
			houseInfo.propertyZip = document.getElementById("propertyZip").value;
			houseInfo.propertyPrice = document.getElementById("propertyPrice").value;

			var list = [];
			if(JSON.parse(localStorage.getItem('adminHouses'))!=null)
			{
				var houses = JSON.parse(localStorage.getItem('adminHouses'));
				houses.push(houseInfo);
				localStorage.setItem('adminHouses', JSON.stringify(houses));
			}
			else
			{
				list.push(houseInfo);
				localStorage.setItem('adminHouses', JSON.stringify(list));
			}
		}

	</script>-->

</html>